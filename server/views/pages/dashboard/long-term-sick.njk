{% extends "layout.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% set pageTitle = applicationName + " - Page name" %}
{% set mainClasses = "govuk-body" %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <h1>Long-term sick</h1>
        <h2>People have been signed off for more than 4 weeks</h2>
        <p>They're paid 65p per day(Â£3.25 for a 5 day week)</p>
    </div>
  </div>

  {{ govukButton({
                text: "Add someone to long-term sick",
                href: '/'
  }) }}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        {% set rows = [] %}
        {% for longTermSick in longTermSickRecord %}
            {% set rows = (rows.push([
                {
                    text: longTermSick.prisonerName
                }, 
                {
                    text: longTermSick.cellLocation,
                    format: "numeric"
                }, 
                {
                    text: longTermSick.startDate,
                    format: "numeric"
                },
                {
                    text: longTermSick.endDate,
                    format: "numeric"
                },
                {
                    text: ''
                }
            ]), rows) %}
        {% endfor %}
        {{ govukTable({
            attributes: {
                    'data-module': 'moj-sortable-table',
                    'data-table-fixed-rows': 'true'
            },
            caption: "Preview",
            captionClasses: "govuk-visually-hidden",
            head: [
                {
                    text: "Prisoner Details",
                    attributes: { "aria-sort": "ascending" }
                }, 
                {
                    text: "Cell location",
                    attributes: { "aria-sort": "none" },
                    format: "numeric"
                }, 
                {
                    text: "Date added to long-term sick",
                    attributes: { "aria-sort": "none" },
                    format: "numeric"
                },
                {
                    text: "End Date",
                    attributes: { "aria-sort": "none" },
                    format: "numeric"
                },
                {
                    text: ""
                }
            ],
            rows: rows,
            classes: "govuk-!-margin-bottom-6"
        }) }}
    </div>
  </div>
{% endblock %}
